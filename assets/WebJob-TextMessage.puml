@startuml WebJob TextMessage

allow_mixing

!define AzurePuml https://raw.githubusercontent.com/RicardoNiepel/Azure-PlantUML/release/2-1/dist
!includeurl AzurePuml/AzureCommon.puml
!includeurl AzurePuml/Databases/all.puml
!includeurl AzurePuml/Web/all.puml
!includeurl AzurePuml/Storage/all.puml

'LAYOUT_TOP_DOWN

Interface INotificationHandler
Interface IMessagingClient
Interface ITextMessageRecipientValidator
Class Module
Class TextMessageWebJobModule
Class SendTextMessageQueueMessageHandler
SendTextMessageQueueMessageHandler : Handle()
Class SendTextMessageQueueMessage
note "Twilio Interface" as n1
Class MessagingClient
MessagingClient : SendMessage()
n1 .. MessagingClient

Class TextMessageRecipientValidator

Module <-- TextMessageWebJobModule
TextMessageWebJobModule -up-> TextMessageRecipientValidator
TextMessageWebJobModule -up-> MessagingClient

IMessagingClient <|-- MessagingClient
ITextMessageRecipientValidator <|-- TextMessageRecipientValidator
INotificationHandler <|-- SendTextMessageQueueMessageHandler
SendTextMessageQueueMessage -up-> SendTextMessageQueueMessageHandler
SendTextMessageQueueMessageHandler -up-> MessagingClient
SendTextMessageQueueMessageHandler -up-> TextMessageRecipientValidator

@enduml